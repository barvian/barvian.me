---
// Only here because the markup has to be the exact same because it's a shared element

import { type ProjectEntry } from '/schemas/work'
import Video from '/components/Video.vue'

type Props = {
    entry: ProjectEntry
}

const { entry } = Astro.props
const { data, slug } = entry
---

<Video
    class="w-full aspect-golden transition object-cover rounded-xl group-has/hero:rounded-2xl group-focus-visible/card:outline group-hover/card:scale-[1.025] group-active/card:duration-200 group-active/card:scale-[1] group-active/card:shadow-none group-hover/card:shadow-xl dark:!shadow-none group-data-[project=active]/card:[view-transition-name:project-hero] group-has/hero:[view-transition-name:project-hero] group-data-[project=active]/card:shadow-none group-data-[project=active]/card:scale-[1]"
    client:load
    transition:persist={`${slug}-hero`}
    src={data.video}
    poster={data.poster}
    muted playsinline
    loop
    autoplay
/>